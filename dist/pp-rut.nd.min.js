!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ppRut=t()}(this,(function(){"use strict";const e=(e,t)=>(e=>Object.prototype.toString.call(e))(e)==="[object "+t+"]",t=t=>e(t,"String"),i=t=>e(t,"Undefined"),o=e=>e.replaceAll(/[^\d,k]/g,""),n=e=>11==e?"0":10==e?"k":e.toString(),r=e=>Number.isInteger(e),s=function(e="0",d=void 0){var g=this;if(!(g instanceof s))return new s(e,d);g.digit=t(d)?o(d.toLowerCase()):r(d)?n(d):"",g.body=t(e)?(e=>{const t=e.split(/[\s,-]{1}(?=[^\s,-]*$)/g);return i(t.at(1))||""!==g.digit||(g.digit=o(t.at(1).toLowerCase())),(e=>e.replaceAll(/[^\d]/g,""))(t.at(0))})(e):r(e)?e.toString():"0",g.format=(e=".",t="-")=>g.body.split("").reverse().map(((t,i)=>t+(r((i+1)/3)?e:""))).join("").split("").reverse().concat([t,g.getDigit()]).join(""),g.checkDigit=(e=void 0)=>g.getDigit()===(i(e)?g.digit:r(e)?n(e):e),g.getDigit=()=>{let e=2,t=g.body.split("").reverse().map(((t,i)=>{const o=Number.parseInt(t,10)*e;return 7==e?e=2:e++,o})).reduce(((e,t)=>e+t),0);return n(11-((i=t)-11*Math.floor(i/11)));var i}};return s}));